From 6b86bf2f1d5d1c1482ca5c7447116d0d2c0bb561 Mon Sep 17 00:00:00 2001
From: Kevron Rees <kevron.m.rees@intel.com>
Date: Fri, 8 Mar 2019 09:06:29 -0800
Subject: [PATCH] Use GNUInstallDirs for install paths

---
 IGC/CMakeLists.txt                 | 22 ++++++++++++++--------
 visa/iga/IGALibrary/CMakeLists.txt |  3 ++-
 5 files changed, 24 insertions(+), 13 deletions(-)

--- a/IGC/CMakeLists.txt
+++ b/IGC/CMakeLists.txt
@@ -3876,13 +3876,14 @@ configure_file(${CMAKE_CURRENT_SOURCE_DI
 configure_file(${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/igc-opencl.pc.in ${IGC_BUILD__IGC_BIN_DIR}/AdaptorOCL/igc-opencl.pc @ONLY)
 
 if(UNIX)
-  install(TARGETS ${IGC_BUILD__PROJ__igc_dll} DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/lib COMPONENT igc-core)
-  install(TARGETS ${IGC_BUILD__PROJ__fcl_dll} DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/lib COMPONENT igc-opencl)
-  install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/ocl_igc_shared DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/include/igc COMPONENT igc-opencl-devel)
-  install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/ocl_igc_interface DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/include/igc COMPONENT igc-opencl-devel)
-  install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/cif DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/include/igc COMPONENT igc-opencl-devel)
-  install(FILES ${IGC_BUILD__IGC_BIN_DIR}/AdaptorOCL/igc-opencl.pc DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/lib/pkgconfig COMPONENT igc-opencl-devel)
-  install(FILES ${IGC_BUILD__IGC_BIN_DIR}/AdaptorOCL/igc.opencl.h DESTINATION ${IGC_INSTALL_TIME_ROOT_DIR}/include/igc COMPONENT igc-opencl-devel)
+  include(GNUInstallDirs)
+  install(TARGETS ${IGC_BUILD__PROJ__igc_dll} DESTINATION ${CMAKE_INSTALL_LIBDIR} COMPONENT igc-core)
+  install(TARGETS ${IGC_BUILD__PROJ__fcl_dll} DESTINATION ${CMAKE_INSTALL_LIBDIR} COMPONENT igc-opencl)
+  install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/ocl_igc_shared DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/igc COMPONENT igc-opencl-devel)
+  install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/ocl_igc_interface DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/igc COMPONENT igc-opencl-devel)
+  install(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/AdaptorOCL/cif DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/igc COMPONENT igc-opencl-devel)
+  install(FILES ${IGC_BUILD__IGC_BIN_DIR}/AdaptorOCL/igc-opencl.pc DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig COMPONENT igc-opencl-devel)
+  install(FILES ${IGC_BUILD__IGC_BIN_DIR}/AdaptorOCL/igc.opencl.h DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/igc COMPONENT igc-opencl-devel)
 elseif (WIN32)
   install(TARGETS ${IGC_BUILD__PROJ__igc_dll}
           RUNTIME DESTINATION Release/lh64          CONFIGURATIONS Release)
diff --git a/visa/iga/IGALibrary/CMakeLists.txt b/visa/iga/IGALibrary/CMakeLists.txt
index f4e9d34..024849a 100644
--- a/visa/iga/IGALibrary/CMakeLists.txt
+++ b/visa/iga/IGALibrary/CMakeLists.txt
@@ -332,7 +332,7 @@ endif(ANDROID AND MEDIA_IGA)
   if(UNIX)
     INSTALL(TARGETS IGA_DLL
         RUNTIME DESTINATION ${CMAKE_INSTALL_PREFIX}/.   COMPONENT igc-core
-        LIBRARY DESTINATION ${CMAKE_INSTALL_PREFIX}/lib COMPONENT igc-core
+        LIBRARY DESTINATION ${CMAKE_INSTALL_LIBDIR}     COMPONENT igc-core
         ARCHIVE DESTINATION ${CMAKE_INSTALL_PREFIX}/.   COMPONENT igc-core
     )
   elseif(WIN32)

